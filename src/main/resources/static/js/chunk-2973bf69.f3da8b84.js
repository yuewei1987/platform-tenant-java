(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2973bf69"],{d6f3:function(e,t,a){},da2f:function(e,t,a){"use strict";var n=a("d6f3"),c=a.n(n);c.a},eab4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("el-input",{staticStyle:{"min-width":"200px","max-width":"400px"},attrs:{type:"text",placeholder:"请输入查询关键字",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.serchkey,callback:function(t){e.serchkey=t},expression:"serchkey"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.reload()}}},[e._v("查询")]),a("el-button",{attrs:{type:"info",icon:"el-icon-news"},on:{click:function(t){return e.add()}}},[e._v("新增")])],1),a("el-main",[a("el-row",[a("el-col",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"缩略图"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{"max-height":"100px"},attrs:{src:e.row.cover}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"stock",label:"库存"}}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{label:"上架状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{value:t.row.state+"","active-value":"0","inactive-value":"1"},on:{change:function(a){return e.change(t.row)}}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"185"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.editHandleClick(t.row.id)}}},[e._v("\n                                编辑\n                            ")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.deleteHandleClick(t.row.id)}}},[e._v("\n                                删除\n                            ")])]}}])})],1)],1)],1),a("el-row",[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.countSize},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)},c=[],o={data:function(){return{serchkey:"",tableData:null,currentPage:1,countSize:0,pageSize:1}},mounted:function(){this.reload()},methods:{change:function(e){var t=this;console.log(e),e.state=0==e.state?1:0;var a="上架";1==e.state&&(a="下架"),this.axios.post("/api/product/state/"+e.id+"/"+e.state).then((function(e){"0"==e.data.state?t.$message({type:"success",message:a+"成功"}):t.$message({type:"error",message:a+"失败"})})).catch((function(e){console.log(e)}))},add:function(){this.$router.push({path:"/productManage/add",replace:!0})},editHandleClick:function(e){this.$router.push({path:"/productManage/add",query:{id:e},replace:!0})},handleCurrentChange:function(e){this.currentPage=e,this.reload()},reload:function(){var e=this;this.axios.get("/api/product/page?name="+this.serchkey+"&page="+this.currentPage).then((function(t){e.tableData=t.data.data.content,e.currentPage=t.data.data.number+1,e.countSize=t.data.data.totalElements,e.pageSize=t.data.data.size})).catch((function(e){console.log(e)}))},deleteHandleClick:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.axios.post("/api/product/delete/"+e).then((function(e){"0"==e.data.state?t.reload():(console.log(e),t.$message({type:"error",message:"删除失败"}))})).catch((function(e){console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},r=o,i=(a("da2f"),a("2877")),l=Object(i["a"])(r,n,c,!1,null,"ded32270",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2973bf69.f3da8b84.js.map