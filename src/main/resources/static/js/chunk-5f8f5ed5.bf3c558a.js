(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f8f5ed5"],{"11e9":function(e,t,r){var o=r("52a7"),a=r("4630"),n=r("6821"),i=r("6a99"),l=r("69a8"),c=r("c69a"),u=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?u:function(e,t){if(e=n(e),t=i(t,!0),c)try{return u(e,t)}catch(r){}if(l(e,t))return a(!o.f.call(e,t),e[t])}},3299:function(e,t,r){"use strict";var o=r("8492"),a=r.n(o);a.a},"454f":function(e,t,r){r("46a7");var o=r("584a").Object;e.exports=function(e,t,r){return o.defineProperty(e,t,r)}},"456d":function(e,t,r){var o=r("4bf8"),a=r("0d58");r("5eda")("keys",(function(){return function(e){return a(o(e))}}))},"46a7":function(e,t,r){var o=r("63b6");o(o.S+o.F*!r("8e60"),"Object",{defineProperty:r("d9f6").f})},"5eda":function(e,t,r){var o=r("5ca1"),a=r("8378"),n=r("79e5");e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],i={};i[e]=t(r),o(o.S+o.F*n((function(){r(1)})),"Object",i)}},8254:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户头像",prop:"avatarUrl"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"",drag:"",accept:"image/jpeg,image/gif,image/png","auto-upload":!1,"show-file-list":!1,"on-change":e.changeUpload}},[r("img",{staticClass:"pic",attrs:{src:e.ruleForm.avatarUrl}}),r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("点击上传")])])],1),r("el-form-item",{attrs:{label:"用户账号",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入用户账号"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"用户昵称",prop:"nick"}},[r("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.ruleForm.nick,callback:function(t){e.$set(e.ruleForm,"nick",t)},expression:"ruleForm.nick"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[r("el-radio-group",{model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[r("el-radio",{attrs:{label:"0"}},[e._v("男")]),r("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),r("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-news"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),r("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),r("el-dialog",{attrs:{title:"剪裁图片",visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"cropper-content"},[r("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[r("vueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,fixed:e.option.fixed,fixedNumber:e.option.fixedNumber,centerBox:e.option.centerBox,infoTrue:e.option.infoTrue,fixedBox:e.option.fixedBox},on:{realTime:e.realTime}})],1)]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary",loading:e.loading,icon:"el-icon-upload2"},on:{click:e.finish}},[e._v("上传")])],1)])],1)},a=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("bd86"));r("7f7f");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={data:function(){return{ruleForm:{userId:"",account:"",name:"",nick:"",gender:"0",phone:"",avatarUrl:""},previews:{},dialogVisible:!1,loading:!1,option:{img:"",info:!0,outputSize:1,outputType:"png",canScale:!1,autoCrop:!0,fixedBox:!1,fixed:!0,fixedNumber:[1,1],full:!0,canMoveBox:!0,original:!1,centerBox:!0,infoTrue:!0},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 5 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],nick:[{min:0,max:10,message:"长度在 0 到 10 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"长度在11个字符",trigger:"blur"}]}}},mounted:function(){var e=this;this.axios.get("/api/user/user/info").then((function(t){null!=t.data.data&&(e.ruleForm.userId=t.data.data.userId,e.ruleForm.account=t.data.data.account,e.ruleForm.name=t.data.data.name,e.ruleForm.nick=t.data.data.nick,e.ruleForm.gender=t.data.data.gender,e.ruleForm.phone=t.data.data.phone,e.ruleForm.avatarUrl=t.data.data.avatarUrl)})).catch((function(e){console.log(e)}))},methods:{changeUpload:function(e){var t="image/jpeg"===e.raw.type||"image/png"===e.raw.type||"image/gif"===e.raw.type;if(!t)return this.$message({type:"info",message:"上传文件只能是图片格式!"}),!1;var r=new FileReader;r.readAsDataURL(e.raw);var o=this;r.onload=function(){o.dialogVisible=!0,o.option.img=this.result}},realTime:function(e){this.previews=e},finish:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){e.loading=!0,e.dialogVisible=!1;var r=new FormData;r.append("file",t);var o={headers:{"Content-Type":"multipart/form-data"}};e.axios.post("/api/upload/file",r,o).then((function(t){0==t.data.state?(e.ruleForm.avatarUrl=t.data.data,e.loading=!1):(e.loading=!1,e.$message({type:"info",message:"上传失败"}))}))}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.axios.post("/api/user/info/save",l({},t.ruleForm)).then((function(e){"0"==e.data.state?t.$message({type:"info",message:"保存成功"}):t.$message({type:"info",message:e.data.message})})).catch((function(e){console.log(e)}))}))}}},u=c,s=(r("3299"),r("2877")),p=Object(s["a"])(u,o,a,!1,null,null,null);t["default"]=p.exports},8492:function(e,t,r){},"85f2":function(e,t,r){e.exports=r("454f")},"8e6e":function(e,t,r){var o=r("5ca1"),a=r("990b"),n=r("6821"),i=r("11e9"),l=r("f1ae");o(o.S,"Object",{getOwnPropertyDescriptors:function(e){var t,r,o=n(e),c=i.f,u=a(o),s={},p=0;while(u.length>p)r=c(o,t=u[p++]),void 0!==r&&l(s,t,r);return s}})},9093:function(e,t,r){var o=r("ce10"),a=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,a)}},"990b":function(e,t,r){var o=r("9093"),a=r("2621"),n=r("cb7c"),i=r("7726").Reflect;e.exports=i&&i.ownKeys||function(e){var t=o.f(n(e)),r=a.f;return r?t.concat(r(e)):t}},bd86:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("85f2"),a=r.n(o);function n(e,t,r){return t in e?a()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},f1ae:function(e,t,r){"use strict";var o=r("86cc"),a=r("4630");e.exports=function(e,t,r){t in e?o.f(e,t,a(0,r)):e[t]=r}}}]);
//# sourceMappingURL=chunk-5f8f5ed5.bf3c558a.js.map